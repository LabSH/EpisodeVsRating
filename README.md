# 📈 R 기반 에피소드와 평점의 상관관계 분석
저는 애니메이션을 자주 즐겨보는데, 많은 사람들이 “2편은 항상 졸작이다”라는 이야기를 자주 하더라고요. 그래서 에피소드 수와 평점 사이에 어떤 관계가 있을지 궁금해졌습니다. 이 호기심을 바탕으로 데이터 분석 역량을 키우는 데 집중하며, 직접 관련 데이터를 수집하고 분석해 보았습니다.


# 🎯 프로젝트 목표
- **MySQL 데이터베이스 연동:** 출산율 데이터와 예측 결과를 MySQL 데이터베이스에 저장하고, 필요 시 데이터를 불러와 활용할 수 있도록 구현합니다.

- **R 언어 역량 강화:** R을 활용해 데이터 전처리, 통계 분석, 시각화, 예측 모델링까지 전 과정을 수행하며 프로그래밍 능력을 강화합니다.

**데이터 분석 기법 습득 및 적용**
- 군집 분석(Clustering): 데이터 내 유사한 특성을 가진 그룹을 분류하여 패턴을 발견합니다.
- 선형 회귀 분석(Linear Regression): 출산율 변화 추세를 분석하고, 미래 값을 예측하는 모델을 개발합니다.

## 📖 분석 시나리오 

**1. 데이터 수집 및 정제:** 애니메이션 데이터셋에서 TV 타입만 필터링하고, 결측치 및 'UNKNOWN' 값을 제거해 깨끗한 데이터를 준비합니다.

**2. 데이터베이스 저장 및 관리:** 정제된 데이터를 MySQL 데이터베이스에 저장하고, 필요할 때 불러올 수 있도록 연결합니다.

**3. 데이터 정규화 및 군집화:** 에피소드 수와 평점을 정규화한 후, K-평균 군집 분석으로 데이터 패턴을 세 그룹으로 나눕니다.

**4. 군집별 상관관계 및 회귀분석:** 각 군집에서 에피소드 수와 평점 간 상관관계를 확인하고, 선형 회귀 모델로 평점을 예측할 수 있는 공식을 만듭니다.

**5. 새로운 애니메이션 평점 예측:** 새로운 데이터의 군집을 분류하고 해당 군집의 회귀식을 이용해 평점을 예측, 결과를 데이터베이스에 업데이트합니다.


# 💻 기술 스택

- OS: macOS
- 개발 도구: `R Studio`
- 주요 기술: `R`

👥 프로젝트 작업인원: 개인 프로젝트

🗓️ 프로젝트 완료일: 2025년 6월 19일

🗃️ 데이터 셋 출처: https://www.kaggle.com/datasets/dbdmobile/myanimelist-dataset

# 🛠️ 주요 기능 및 특징
- **데이터 수집 및 전처리:** CSV 파일에서 애니메이션 데이터를 불러와 TV 타입 데이터만 필터링하고, `UNKNOWN` 값이 포함된 행을 제거하여 데이터 품질을 확보하고,
에피소드 수와 평점 데이터를 문자형에서 숫자형으로 변환해 분석과 DB 저장에 적합하도록 정제합니다.

- **MySQL 데이터베이스 연동:** RMySQL 패키지를 활용해 MySQL과 연결하고, 데이터베이스 내 `anime` 테이블을 생성하여 전처리된 데이터를 저장하고, 저장된 데이터를 다시 불러와 분석 및 시각화에 활용하며, 데이터베이스와의 연동을 통해 데이터 관리 효율성을 높입니다.

- **데이터 정규화 및 군집 분석:** 에피소드 수와 평점을 0~1 사이로 정규화하여 스케일 차이를 조정하며, K-평균 군집 분석을 통해 데이터를 세 그룹으로 분류하고, 각 군집의 특성을 시각화하여 데이터 구조를 이해합니다.

- **군집별 상관관계 및 선형 회귀 분석:** 각 군집 내 에피소드 수와 평점 간의 상관관계를 계산해 군집별 특성을 분석하고, 선형 회귀 모델을 구축하여 군집별 평점 예측 공식을 도출하고, 이를 기반으로 예측 정확도를 높입니다.

- **새로운 데이터 예측 및 업데이트 기능:** 신규 애니메이션 데이터를 데이터베이스에 추가하고, 에피소드 수를 기반으로 군집에 할당하여 적절한 회귀식을 적용해 평점을 예측합니다. 그 후 예측 결과를 데이터베이스에 업데이트함으로써 실시간 예측 시스템을 구현합니다.

# 🔍 문제 해결 및 사례

- **불완전한 데이터 처리 문제 해결:** 원본 데이터셋에 `UNKNOWN`으로 표기된 결측값과 이상치가 포함되어 있어 데이터 분석에 부적합했습니다. 이를 `subset()` 함수를 활용해 `UNKNOWN` 값이 포함된 행을 필터링하고 제거함으로써 데이터의 신뢰도를 높였습니다.

- **데이터 타입 불일치 문제 극복:** 에피소드 수와 평점이 문자형으로 저장되어 있어 수치형 계산에 어려움이 있었습니다. `as.double()` 함수를 사용해 해당 컬럼을 숫자형으로 변환하여 데이터 타입을 일관되게 관리했습니다

- **데이터베이스 연동 및 인코딩 문제 해결:** MySQL과 연동하는 과정에서 문자 인코딩 문제와 테이블 생성 오류가 발생할 가능성이 있었습니다. RMySQL 패키지와 인코딩 설정을 통해 `UTF-8`로 통일하고, 사전에 테이블을 생성하여 안정적인 데이터 삽입 환경을 마련했습니다.

- **군집 분석 결과 해석 어려움 극복:** K-평균 군집 번호가 분석할 때마다 달라져 결과 해석에 혼란이 있었습니다. 군집별 데이터 수를 확인하고 군집 번호에 의존하지 않으며, 각 군집의 특성 중심으로 분석 방식을 변경하여 문제를 해결했습니다.

# 📚 성과 및 배운 점

- **실제 데이터 전처리 및 정제 경험 습득:** 
공공 및 공개 애니메이션 데이터를 수집하고, 결측치와 이상치를 처리하는 과정을 통해 데이터 정제의 중요성과 방법을 익혔습니다.

- **R 언어 및 데이터베이스 연동 역량 강화:** 
R을 활용해 데이터 전처리부터 MySQL 데이터베이스 연동, 데이터 삽입과 조회까지 전 과정을 경험하며 R과 데이터베이스의 효율적인 연결 방법을 습득했습니다.

- **데이터 정규화와 군집 분석 기법 적용 능력 향상:** 
데이터 정규화를 통해 다양한 스케일의 데이터를 일관되게 처리하고, K-평균 군집 분석으로 데이터 내 숨겨진 패턴을 발견하는 경험을 쌓았습니다.

- **통계적 상관관계 분석과 회귀모델 구축 실습:** 
군집별 상관관계 분석을 통해 변수 간 관계를 이해하고, 선형 회귀 모델을 구축하여 데이터를 기반으로 예측하는 기본적인 머신러닝 기법을 실습했습니다.

- **예측 모델 실무 적용 및 자동화 프로세스 구현 경험:** 
새로운 데이터를 입력받아 군집을 분류하고, 회귀식을 적용해 평점을 예측하며, 결과를 데이터베이스에 자동으로 업데이트하는 실시간 데이터 처리 파이프라인을 구현했습니다.
